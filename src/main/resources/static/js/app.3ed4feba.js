(function(t){function e(e){for(var r,i,o=e[0],l=e[1],c=e[2],p=0,u=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&u.push(n[i][0]),n[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);d&&d(e);while(u.length)u.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(r=!1)}r&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},n={app:0},s=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("5a56")},"09c9":function(t,e,a){"use strict";a("1db7")},"0c3a":function(t,e,a){},"1db7":function(t,e,a){},"2c86":function(t,e,a){"use strict";a("a928")},"37b9":function(t,e,a){},"477b":function(t,e,a){"use strict";a("ffa6")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",[a("Header"),a("router-view")],1)])},s=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"header"}},[a("div",{staticClass:"section_header",attrs:{id:"section_header"}},[a("div",{staticClass:"left"},[t._v("결재")]),a("div",{staticClass:"right"},[t._v(t._s(this.$store.state.loginMember.member.name)),a("span",{staticClass:"nim"},[t._v(" 님")])])])])},o=[],l={name:"Header",mounted:function(){},data:function(){return{}}},c=l,d=(a("477b"),a("0c7c")),p=Object(d["a"])(c,i,o,!1,null,null,null),u=p.exports,m={name:"App",components:{Header:u},computed:{}},v=m,f=(a("034f"),Object(d["a"])(v,n,s,!1,null,null,null)),h=f.exports,_=a("8c4f"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},t._l(t.memberList,(function(t,e){return a("login-box",{key:e,attrs:{account:t}})})),1)},g=[],I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loginbox"},[a("div",[a("div",{staticStyle:{"padding-top":"100px"},on:{click:function(e){return t.login(t.$attrs.account)}}},[a("a",{staticStyle:{cursor:"pointer"}},[a("span",{staticStyle:{"font-size":"20px","font-wigth":"bold"}},[t._v(" "+t._s(this.$attrs.account.name))]),a("span",{staticStyle:{"font-size":"15px"}},[t._v(" "+t._s(this.$attrs.account.gradeName))])])])])])},C=[],y={name:"LoginBox",components:{},methods:{login:function(t){this.$store.commit("loginMember/LOGIN",t),this.$router.push({path:"/main"})}}},M=y,E=(a("b697"),Object(d["a"])(M,I,C,!1,null,null,null)),S=E.exports,w={name:"App",components:{LoginBox:S},mounted:function(){},data:function(){return{memberList:[{memberId:1,name:"라이언",gradeId:1,gradeName:"회장"},{memberId:2,name:"튜브",gradeId:2,gradeName:"과장"},{memberId:3,name:"네오",gradeId:3,gradeName:"대리"},{memberId:4,name:"무지",gradeId:4,gradeName:"사원"}]}}},P=w,A=(a("09c9"),Object(d["a"])(P,b,g,!1,null,null,null)),x=A.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"container"}},[a("div",{staticStyle:{"padding-top":"20px"}},[a("span",{staticClass:"name"},[t._v(t._s(this.$store.state.loginMember.member.name))]),a("span",{staticClass:"nim"},[t._v("님의 문서")]),a("button",{on:{click:t.logout}},[t._v("로그아웃")])]),a("div",{staticClass:"contents_btm",staticStyle:{"padding-top":"50px"}},[a("div",{staticClass:"snb"},[a("SubNav")],1),a("div",{attrs:{id:"content"}},[a("Contents")],1)])])},T=[],L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"snb_nav"},[a("div",{staticClass:"nav_lst frst"},[a("h3",[a("div",{staticClass:"big_menu"},[a("router-link",{attrs:{to:"/register"}},[t._v("기안 신청하기")])],1)])]),a("div",{staticClass:"nav_lst"},[a("h3",[a("a",{staticClass:"big_menu",on:{click:function(e){return t.setSearchParam("WAIT",null,t.loginedMemberInfo.memberId,t.loginedMemberInfo.memberId,"WAIT")}}},[t._v(t._s(t.APPROVAL_TYPE.WAIT))])]),a("ul",[a("li",[a("a",{staticClass:"small_menu",on:{click:function(e){return t.setSearchParam("WAIT",null,null,t.loginedMemberInfo.memberId,"WAIT_APPROVE")}}},[t._v(t._s(t.APPROVAL_TYPE.WAIT_APPROVE))])]),a("li",[a("a",{staticClass:"small_menu",on:{click:function(e){return t.setSearchParam("WAIT",null,t.loginedMemberInfo.memberId,null,"WAIT_REQUEST")}}},[t._v(t._s(t.APPROVAL_TYPE.WAIT_REQUEST))])])]),a("h3",[a("a",{staticClass:"big_menu",on:{click:function(e){return t.setSearchParam("COMPLETE",null,t.loginedMemberInfo.memberId,t.loginedMemberInfo.memberId,"COMPLETE")}}},[t._v(t._s(t.APPROVAL_TYPE.COMPLETE))])]),a("ul",[a("li",[a("a",{staticClass:"small_menu",on:{click:function(e){return t.setSearchParam("COMPLETE","APPROVE",t.loginedMemberInfo.memberId,t.loginedMemberInfo.memberId,"COMPLETE_APPROVE")}}},[t._v(t._s(t.APPROVAL_TYPE.COMPLETE_APPROVE))])]),a("li",[a("a",{staticClass:"small_menu",on:{click:function(e){return t.setSearchParam("COMPLETE","RETURN",t.loginedMemberInfo.memberId,t.loginedMemberInfo.memberId,"COMPLETE_RETURN")}}},[t._v(t._s(t.APPROVAL_TYPE.COMPLETE_RETURN))])])])])])},$=[],R=new r["a"],N=R,q={name:"SubNav",methods:{setSearchParam:function(t,e,a,r,n){var s=this.APPROVAL_TYPE[n],i={requestStatusCode:t,approvalStatusCode:e,requestMemberId:a,approveMemberId:r};N.$emit("deliverSearchParam",i,s),N.$emit("changeContentState",!1),N.$emit("changeLoading",!0)}},data:function(){return{loginedMemberInfo:this.$store.state.loginMember.member,approvalList:[],APPROVAL_TYPE:{WAIT:"진행중인 결재 문서",WAIT_APPROVE:"결재할 문서",WAIT_REQUEST:"상신/결재한 문서",COMPLETE:"완료 문서",COMPLETE_APPROVE:"승인 문서",COMPLETE_RETURN:"반려 문서"}}}},k=q,j=Object(d["a"])(k,L,$,!1,null,null,null),D=j.exports,U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.loading?r("div",{staticClass:"loader"},[r("img",{attrs:{src:a("cf1c")}})]):t._e(),r("div",[r("Default",{directives:[{name:"show",rawName:"v-show",value:t.isDefaultShow,expression:"isDefaultShow"}]}),r("List",{directives:[{name:"show",rawName:"v-show",value:!t.isDefaultShow,expression:"!isDefaultShow"}]})],1)])},V=[],W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"default"}},[a("table",{staticClass:"mainContentTable"},[t._m(0),a("tbody",[a("tr",[a("td",{staticClass:"mainContentTableTd1"},[t._m(1),a("div",{staticClass:"section_main v2"},[t.approvalList.length>0?a("ul",{staticClass:"lst_type"},t._l(t.approvalList,(function(e,r){return a("li",{key:r},[a("em",{staticClass:"situ"},[t._v(t._s(e.approvalType))]),a("p",{staticClass:"tit"},[a("a",[a("router-link",{attrs:{to:"view/"+e.approvalId}},[t._v(" "+t._s(e.title))])],1)]),a("span",{staticClass:"rgt",staticStyle:{width:"300px","margin-right":"5px"}},[a("a",[t._v(t._s(e.requestMemberName))]),a("span",{staticClass:"date"},[t._v(t._s(e.registerDate))])])])})),0):t._e(),0==t.approvalList.length?a("ul",{staticClass:"lst_type"},[a("li",[t._v(" 문서가 없습니다. ")])]):t._e()])])])])])])},G=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("colgroup",[a("col",{attrs:{width:"*"}}),a("col",{attrs:{width:"248px"}}),a("col",{attrs:{width:"248px"}}),a("col",{attrs:{width:"248px"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"main_content"}},[a("div",{staticClass:"section_tit first main"},[a("h3",[t._v("최근 결재문서")])])])}],Y=(a("159b"),a("bc3a")),Q=a.n(Y),H={name:"Default",mounted:function(){var t=this,e={requestMemberId:this.loginedMemberInfo.memberId,approveMemberId:this.loginedMemberInfo.memberId};Q.a.get("/api/approval/getApprovalList",{params:e}).then((function(e){0===e.data.code&&(e.data.body.forEach((function(t){"COMPLETE"===t.requestStatusCode?t.approvalType="완료문서":t.approvalType="대기문서"})),t.approvalList=e.data.body)}))},methods:{},data:function(){return{loginedMemberInfo:this.$store.state.loginMember.member,approvalList:[]}}},z=H,B=Object(d["a"])(z,W,G,!1,null,null,null),J=B.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"list"}},[a("div",{attrs:{id:"content"}},[a("div",{staticClass:"section_tit frst"},[a("h3",{staticStyle:{"padding-bottom":"15px"}},[t._v(t._s(t.typeName)),a("span",{staticClass:"tit_dsc"},[t._v(" 총 "+t._s(t.approvalList.length)+" 건")])]),a("table",{staticClass:"tb_lst"},[t._m(0),t._m(1),t.approvalList.length>0?a("tbody",t._l(t.approvalList,(function(e,r){return a("tr",{key:r,staticClass:"noline context",staticStyle:{"background-color":"rgb(255, 255, 255)"}},[a("td",[t._v(t._s(e.approvalId))]),a("td",[a("a",[a("router-link",{attrs:{to:"view/"+e.approvalId}},[t._v(" "+t._s(e.title))])],1)]),a("td",[t._v(t._s(e.requestMemberName))]),a("td",[t._v(t._s(e.approveMemberName))]),a("td",[t._v(t._s(e.requestApprovalType))]),a("td",[t._v(t._s(e.registerDate))]),a("td",[t._v(t._s(e.approveDate))])])})),0):t._e(),0==t.approvalList.length?a("tbody",[t._m(2)]):t._e()])])])])},F=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("colgroup",[a("col",{staticStyle:{width:"67px","*width":"157px"}}),a("col"),a("col",{staticStyle:{width:"93px","*width":"83px"}}),a("col",{staticStyle:{width:"107px","*width":"97px"}}),a("col",{staticStyle:{width:"107px","*width":"97px"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"bg_lft",attrs:{scope:"col"}},[t._v("문서번호")]),a("th",{attrs:{scope:"col"}},[t._v("제목")]),a("th",{attrs:{scope:"col"}},[t._v("기안자")]),a("th",{attrs:{scope:"col"}},[t._v("승인자")]),a("th",{attrs:{scope:"col"}},[t._v("승인상태")]),a("th",{attrs:{scope:"col"}},[t._v("기안일")]),a("th",{staticClass:"bg_rgt",attrs:{scope:"col"}},[t._v("완료일")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{colspan:"7"}},[t._v("문서가 없습니다.")])])}],X={REQUEST_WAIT:"요청중",APPROVE_COMPLETE:"승인 완료",RETURN_COMPLETE:"반려 완료"},Z={name:"List",created:function(){var t=this;N.$on("deliverSearchParam",(function(e,a){t.typeName=a,t.searchParam=e,t.getApprovalList()}))},methods:{getApprovalList:function(){var t=this;Q.a.get("/api/approval/getApprovalList",{params:this.searchParam}).then((function(e){0===e.data.code&&(e.data.body.forEach((function(t){t.requestApprovalType=X[t.approvalStatusCode+"_"+t.requestStatusCode]})),t.approvalList=e.data.body,N.$emit("changeLoading",!1))}))}},data:function(){return{searchParam:{},approvalList:[],typeName:""}}},tt=Z,et=Object(d["a"])(tt,K,F,!1,null,null,null),at=et.exports,rt={name:"Contents",components:{Default:J,List:at},created:function(){var t=this;N.$on("changeContentState",(function(e){t.isDefaultShow=e})),N.$on("changeLoading",(function(e){t.loading=e}))},methods:{},data:function(){return{loading:!1,state:!1,isDefaultShow:!0}}},nt=rt,st=(a("2c86"),Object(d["a"])(nt,U,V,!1,null,null,null)),it=st.exports,ot={name:"Main",components:{SubNav:D,Contents:it},mounted:function(){},methods:{logout:function(){this.$store.commit("loginMember/LOGOUT"),this.$router.push({path:"/"})}},data:function(){return{}}},lt=ot,ct=(a("bf0b"),Object(d["a"])(lt,O,T,!1,null,null,null)),dt=ct.exports,pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[t.loading?r("div",{staticClass:"loader"},[r("img",{attrs:{src:a("cf1c")}})]):t._e(),r("div",{staticClass:"section_title2"},[r("h2",{staticClass:"fl h_tx"},[t._v("기안신청서")]),r("p",{staticClass:"fr p_tx"},[t._v(t._s(t.approvalState))])]),r("div",[t.showApproveModal?r("ModalView",{on:{close:function(e){t.showApproveModal=!1}}},[r("SelectApproveMember",{attrs:{props:t.approveMemberInfo},on:{approveMember:t.approveMember}})],1):t._e(),r("div",{staticStyle:{"padding-top":"15px"}},["register"===t.type||"edit"===t.type?r("button",{on:{click:function(e){t.showApproveModal=!0}}},[t._v("승인자 선택")]):t._e()]),r("div",{staticClass:"group_lst",staticStyle:{"padding-top":"35px"},attrs:{id:"lineview_group_lst"}},[r("div",{attrs:{id:"apms_aprvLineArea"}},[r("div",{staticClass:"lst_drafter_wrap",attrs:{id:"apms_aprvLine_hori"}},[r("ul",{staticClass:"lst_drafter",staticStyle:{"margin-left":"0px"}},[r("li",{staticClass:"off dim",attrs:{id:"0"}},[t._m(0),r("div",{staticClass:"name"},[r("a",[t._v(t._s(t.requestMemberInfo.name))])]),r("div",{staticClass:"date"},[t._v(" "+t._s(t.registerDate)+" ")])]),r("li",{staticClass:"off dim",attrs:{id:"1"}},[t._m(1),r("div",{staticClass:"name"},[r("a",{staticClass:"test",attrs:{id:"apms_aprvrNm_TL10051",href:"#null",empcd:"TL10051",title:"오정운"}},[t._v(t._s(t.approveMemberInfo.name))])]),r("div",{staticClass:"date"},[t._v(" "+t._s(t.approveDate)+" ")])])])])])])],1),r("div",{staticStyle:{width:"100%","text-align":"center",height:"100%"}},[r("div",{staticClass:"tbl_type2",staticStyle:{"padding-top":"35px",width:"300px",height:"300px",margin:"0 auto"}},[r("table",[t._m(2),r("tbody",[r("tr",[t._m(3),r("td",[r("div",{staticClass:"td"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"ipt_txt",staticStyle:{width:"200px"},attrs:{type:"text",disabled:"view"===t.type,title:"제목 입력란",placeholder:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])])]),r("tr",[t._m(4),r("td",[r("div",{staticClass:"td"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"ipt_txt",staticStyle:{width:"100%",height:"56px"},attrs:{disabled:"view"===t.type,name:"내용 입력란",cols:"20",rows:"3"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})])])])])])])]),r("div",{staticStyle:{"padding-top":"10px"}},[r("button",{on:{click:function(e){return t.$router.push({path:"/main"})}}},[t._v("목록으로")]),t._v(" "),"register"===t.type?r("button",{on:{click:function(e){return t.registApproval()}}},[t._v("등록하기")]):t._e(),t._v(" "),t.isAvailEdit&&"edit"!=t.type?r("button",{on:{click:function(e){return t.goEdit()}}},[t._v("편집")]):t._e(),t._v(" "),t.isAvailEdit&&"edit"!=t.type?r("button",{on:{click:function(e){return t.deleteApproval()}}},[t._v("삭제")]):t._e(),t._v(" "),"edit"===t.type?r("button",{on:{click:function(e){return t.updateApproval()}}},[t._v("저장")]):t._e(),t._v(" "),t.isAvailUpdate?r("button",{on:{click:function(e){return t.processApproval("APPROVE")}}},[t._v("승인")]):t._e(),t._v(" "),t.isAvailUpdate?r("button",{on:{click:function(e){return t.processApproval("RETURN")}}},[t._v("반려")]):t._e()])])},ut=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"type"},[a("span",[t._v("일반결재")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"type"},[a("span",[t._v(" 일반결재")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("colgroup",[a("col",{staticStyle:{width:"130px"}}),a("col")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{attrs:{scope:"col"}},[a("div",{staticClass:"th"},[t._v("제목")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{attrs:{scope:"col"}},[a("div",{staticClass:"th"},[t._v("내용")])])}],mt=a("53ca"),vt=(a("b0c0"),a("b64b"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[t.loading?r("div",{staticClass:"loader"},[r("img",{attrs:{src:a("cf1c")}})]):t._e(),t._m(0),r("div",{staticStyle:{"padding-top":"20px"}},[r("table",{staticClass:"tb_lst",staticStyle:{width:"438px"}},[t._m(1),r("tbody",t._l(t.memberList,(function(e,a){return r("tr",{key:a},[r("td",[t._v(t._s(e.memberId))]),r("td",[r("a",{staticStyle:{cursor:"pointer"},on:{click:function(a){return t.deliverMemberInfo(e)}}},[t._v(t._s(e.name))])]),r("td",[t._v(t._s(e.gradeName))])])})),0)])])])}),ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section_title2",staticStyle:{width:"438px"}},[a("h2",{staticClass:"fl h_tx"},[t._v("승인자 선택")]),a("p",{staticClass:"fr p_tx"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("사번")]),a("th",[t._v("이름")]),a("th",[t._v("직급")])])}],ht={name:"SelectApproveMember",props:{},mounted:function(){this.getMemberList()},methods:{getMemberList:function(){var t=this;this.loading=!0,Q.a.get("/api/member/getMemberList?memberId="+this.$store.state.loginMember.member.memberId).then((function(e){"OK"===e.statusText&&(t.loading=!1,t.memberList=e.data)}))},deliverMemberInfo:function(t){this.approveMember=t,this.$emit("approveMember",t,!1)}},data:function(){return{loading:!1,approveMember:{},memberList:[]}}},_t=ht,bt=Object(d["a"])(_t,vt,ft,!1,null,null,null),gt=bt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("div",{staticClass:"overlay",on:{click:function(e){return t.$emit("close")}}}),a("div",{staticClass:"modal-card"},[t._t("default"),a("div",{staticStyle:{"padding-top":"20px"}},[a("button",{on:{click:function(e){return t.$emit("close")}}},[t._v("닫기")])])],2)])},Ct=[],yt={},Mt=yt,Et=(a("acbf"),Object(d["a"])(Mt,It,Ct,!1,null,null,null)),St=Et.exports,wt={REQUEST:"요청문서",APPROVE:"승인문서",RETURN:"반려문서"},Pt={name:"Detail",components:{SelectApproveMember:gt,ModalView:St},mounted:function(){if(this.type=this.$route.name,"view"===this.type||"update"===this.type){var t=this.$route.params.id;this.getApproval(t)}else"register"===this.type&&(this.requestMemberInfo=this.$store.state.loginMember.member)},methods:{goEdit:function(){this.type="edit"},isNull:function(t){return""==t||null==t||void 0==t||null!=t&&"object"==Object(mt["a"])(t)&&!Object.keys(t).length},getApproval:function(t){var e=this;this.loading=!0;var a={approvalId:t};Q.a.get("/api/approval/getApproval",{params:a}).then((function(t){if(0===t.data.code){if(e.loading=!1,null===t.data.body)return void e.$router.push({path:"/main"});e.approvalId=t.data.body.approvalId,e.approveMemberInfo={memberId:t.data.body.approveMemberId,name:t.data.body.approveMemberName,gradeId:t.data.body.approveMemberGradeId},e.requestMemberInfo={memberId:t.data.body.requestMemberId,name:t.data.body.requestMemberName,gradeId:t.data.body.requestMemberGradeId},e.requestStatusCode=t.data.body.requestStatusCode,e.approvalStatusCode=t.data.body.approvalStatusCode,e.approvalState=wt[t.data.body.approvalStatusCode],e.title=t.data.body.title,e.content=t.data.body.content,e.registerDate=t.data.body.registerDate,e.approveDate=t.data.body.approveDate,e.isAvailEdit="view"===e.type&&"WAIT"===e.requestStatusCode&&e.loginedMemberInfo.memberId===t.data.body.requestMemberId,e.isAvailUpdate="view"===e.type&&"WAIT"===e.requestStatusCode&&e.loginedMemberInfo.memberId===t.data.body.approveMemberId}}))},approveMember:function(t,e){this.approveMemberInfo=t,this.showApproveModal=e},setParams:function(){var t={title:this.title,content:this.content,approveMemberId:this.approveMemberInfo.memberId,requestMemberId:this.requestMemberInfo.memberId,registerMemberId:this.loginedMemberInfo.memberId,approveMemberGradeId:this.approveMemberInfo.gradeId,requestMemberGradeId:this.requestMemberInfo.gradeId};return t},validate:function(){if(this.isAvailEdit&&"WAIT"===!this.requestStatusCode)throw"요청상태의 문서만 수정가능합니다.";if(this.isNull(this.title))throw"제목을 입력해주세요.";if(this.title.length>45)throw"제목의 길이는 45자를 넘을 수 없습니다.";if(this.isNull(this.content))throw"내용을 입력해주세요.";if(this.isNull(this.approveMemberInfo))throw"승인자가 지정되지 않았습니다.";if(this.content.length>3e3)throw"내용은 3000자를 넘을 수 없습니다.";if(this.approveMemberInfo.gradeId==this.requestMemberInfo.gradeId)throw"승인자는 요청자와 같은 직급일 수 없습니다.";if(this.approveMemberInfo.gradeId>this.requestMemberInfo.gradeId)throw"승인자는 요청자보다 직급이 높아야합니다.";return!0},registApproval:function(){try{if(this.validate()){var t=this.setParams();Q.a.post("/api/approval",t).then((function(t){0===t.data.code&&(alert("기안을 상신하였습니다."),window.location.href="/view/"+t.data.approvalId)})).catch((function(t){console.log(t.response.data)}))}}catch(e){alert(e)}},goUpdate:function(t,e){var a=this;Q.a.put(t,e).then((function(t){0===t.data.code&&alert("수정하였습니다."),window.location.href="/view/"+a.approvalId})).catch((function(t){a.isNull(t.response.data)?alert(t.response.data.error):alert(t.response.data.message)}))},updateApproval:function(){try{if(this.validate()){var t=this.setParams();t.approvalId=this.approvalId,t.requestStatusCode=this.requestStatusCode,t.approvalStatusCode=this.approvalStatusCode,this.goUpdate("/api/approval/update",t)}}catch(e){alert(e)}},processApproval:function(t){try{if(this.validate()){var e={approvalId:this.approvalId,requestStatusCode:this.requestStatusCode,approvalStatusCode:t};this.goUpdate("/api/approval/process",e)}}catch(a){alert(a)}},deleteApproval:function(){if(confirm("삭제하시겠습니까?"))if(this.isAvailEdit){var t={approvalId:this.approvalId,approvalStatusCode:this.approvalStatusCode,requestStatusCode:this.requestStatusCode};Q.a.delete("/api/approval",{data:t}).then((function(t){0===t.data.code&&alert("기안을 삭제하였습니다."),window.location.href="/main"})).catch((function(t){alert(t.response.data.message)}))}else alert("요청상태의 문서만 수정 가능합니다.")}},data:function(){return{loading:!1,loginedMemberInfo:this.$store.state.loginMember.member,isAvailEdit:!1,isAvailUpdate:!1,type:"register",approveMemberInfo:{},requestMemberInfo:{},showApproveModal:!1,approvalId:"",requestStatusCode:"",approvalState:"",approvalStatusCode:"",title:"",content:"",registerDate:"",approveDate:""}}},At=Pt,xt=(a("fd9e"),Object(d["a"])(At,pt,ut,!1,null,null,null)),Ot=xt.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" 에러페이지~! ")])},Lt=[],$t={name:"Error",mounted:function(){},data:function(){return{}}},Rt=$t,Nt=Object(d["a"])(Rt,Tt,Lt,!1,null,null,null),qt=Nt.exports;r["a"].use(_["a"]);var kt=new _["a"]({mode:"history",routes:[{path:"/",component:x},{path:"/main",component:dt},{name:"register",path:"/register",component:Ot,props:!0},{name:"view",path:"/view/:id",component:Ot},{name:"error",path:"/error",component:qt}]}),jt=a("2f62"),Dt=a("0e44"),Ut=a("5530"),Vt={member:{}},Wt={LOGIN:function(t,e){t.member=e},LOGOUT:function(t){t.member={}}},Gt={strict:!1,namespaced:!0,state:Object(Ut["a"])({},Vt),mutations:Wt},Yt={loginMember:Gt},Qt=[Object(Dt["a"])({paths:["loginMember"]})];r["a"].use(jt["a"]);var Ht=new jt["a"].Store({modules:Yt,plugins:Qt});r["a"].config.productionTip=!1,r["a"].prototype.$axios=Q.a,new r["a"]({router:kt,store:Ht,render:function(t){return t(h)}}).$mount("#app")},"5a56":function(t,e,a){},"5dd9":function(t,e,a){},a928:function(t,e,a){},acbf:function(t,e,a){"use strict";a("0c3a")},b697:function(t,e,a){"use strict";a("5dd9")},bf0b:function(t,e,a){"use strict";a("e8da")},cf1c:function(t,e,a){t.exports=a.p+"img/loading.525834b9.gif"},e8da:function(t,e,a){},fd9e:function(t,e,a){"use strict";a("37b9")},ffa6:function(t,e,a){}});
//# sourceMappingURL=app.3ed4feba.js.map